# Blog

Vue 3 ä¸ªäººåšå®¢ä¸æ–‡ç« ç®¡ç†å¥—ä»¶ã€‚ä¸»ç«™é€šè¿‡ GitHub Pages æä¾›å†…å®¹ï¼Œæ¡Œé¢ç«¯ï¼ˆElectronï¼‰â€œæ–‡ç« ç®¡ç†å™¨â€ç”¨æ¥ç¼–è¾‘ Markdownã€ç»´æŠ¤å…ƒæ•°æ®å¹¶ä¸€é”®æäº¤ã€éƒ¨ç½²ã€‚

## ç›®å½•ç»“æ„

```
â”œâ”€ src/                     # åšå®¢å‰ç«¯æºç ï¼ˆVue 3 + Viteï¼‰
â”œâ”€ public/                  # é™æ€èµ„æºä¸ manifest
â”œâ”€ dist/                    # å‰ç«¯æ„å»ºäº§ç‰©ï¼ˆCI ç”Ÿæˆï¼‰
â”œâ”€ article-manager/         # Electron æ–‡ç« ç®¡ç†å™¨æºç 
â”‚  â”œâ”€ src/renderer          # æ¸²æŸ“è¿›ç¨‹ï¼ˆVue 3ï¼‰
â”‚  â”œâ”€ electron/             # ä¸»è¿›ç¨‹ä¸ preload
â”‚  â””â”€ release/              # æ‰“åŒ…è¾“å‡ºï¼ˆå·²åŠ å…¥ .gitignoreï¼‰
â”œâ”€ scripts/generate-404.js  # æ„å»ºåç”Ÿæˆ 404.html
â”œâ”€ README_DEPLOY.md         # éƒ¨ç½²æ‰‹å†Œ
â””â”€ vite.config.js           # å‰ç«¯æ„å»ºé…ç½®
```

## åŠŸèƒ½äº®ç‚¹

- ğŸ¨ **Vue 3 åšå®¢å‰ç«¯**ï¼šMarkdown æ¸²æŸ“ã€ä»£ç é«˜äº®ã€å“åº”å¼å¸ƒå±€ã€‚
- âš¡ **è‡ªåŠ¨éƒ¨ç½²**ï¼š`main` åˆ†æ”¯ push è§¦å‘ GitHub Actionsï¼Œæ„å»ºå¹¶å‘å¸ƒè‡³ `gh-pages`ã€‚
- ğŸ–¥ï¸ **æ–‡ç« ç®¡ç†å™¨**ï¼šæ¡Œé¢ç«¯å·¥å…·æ”¯æŒæ–‡ç«  CRUDã€å…ƒæ•°æ®ç®¡ç†ã€Git æäº¤ä¸éƒ¨ç½²ä¸€é”®å®Œæˆã€‚
- ğŸ’¾ **åšå®¢è·¯å¾„ç¼“å­˜**ï¼šElectron App é¦–æ¬¡é€‰æ‹©ä»“åº“ç›®å½•åæŒä¹…åŒ–ä¿å­˜ï¼Œä¾¿æºåŒ…å¼€ç®±å³ç”¨ã€‚
- ğŸ”’ **å‘å¸ƒå®‰å…¨**ï¼šè‡ªåŠ¨ç”Ÿæˆæäº¤ä¿¡æ¯ï¼ˆå¦‚â€œæ–°å»ºæ–‡ç« XXXâ€ï¼‰ï¼Œå¹¶åœ¨åˆ é™¤æ–‡ç« æ—¶åŒæ­¥ç§»é™¤ metadataã€‚

## å¿«é€Ÿä¸Šæ‰‹

### ç¯å¢ƒéœ€æ±‚

- Node.js 20.19+ï¼ˆæˆ– 22.12+ï¼‰
- npm 10+
- Git

### å®‰è£…ä¾èµ–

```powershell
git clone https://github.com/whyself/Blog.git
cd Blog
npm ci

# æ–‡ç« ç®¡ç†å™¨ä¾èµ–ï¼ˆé¦–æ¬¡ä½¿ç”¨æ—¶æ‰§è¡Œï¼‰
cd article-manager
npm install
```

### æœ¬åœ°å¼€å‘

```powershell
# å‰ç«¯ç½‘ç«™
cd Blog
npm run dev
# æµè§ˆå™¨è®¿é—® http://localhost:5173

# æ–‡ç« ç®¡ç†å™¨
cd article-manager
npm run dev
# Electron å¯åŠ¨åé€‰æ‹©åšå®¢ä»“åº“ç›®å½•
```

### æ„å»º & éƒ¨ç½²

```powershell
# å‰ç«¯é™æ€ç«™ç‚¹
npm run build                # ç”Ÿæˆ dist/

# GitHub Pagesï¼ˆCI å·²è‡ªåŠ¨æ‰§è¡Œï¼‰
npm run deploy               # å¯é€‰ï¼šæ‰‹åŠ¨æ¨é€åˆ° gh-pages

# æ–‡ç« ç®¡ç†å™¨æ‰“åŒ…ï¼ˆç”Ÿæˆä¾¿æºå¼ exeï¼‰
cd article-manager
npm run make
# è¾“å‡ºä½äº article-manager/release/
```

æ›´å¤šéƒ¨ç½²ç»†èŠ‚å‚è€ƒ [`README_DEPLOY.md`](README_DEPLOY.md)ã€‚

## æ–‡ç« ç®¡ç†å™¨ä½¿ç”¨è¯´æ˜

1. å¯åŠ¨åº”ç”¨åè‹¥æœªæ‰¾åˆ°ä»“åº“ï¼Œä¼šæç¤ºé€‰æ‹©åšå®¢æ ¹ç›®å½•ï¼ˆå« `src/articles`ï¼‰ã€‚
2. ä¾§æ å¯æŸ¥çœ‹æ–‡ç« åˆ—è¡¨ã€åˆ›å»º/åˆ é™¤ Markdown æ–‡ä»¶ã€‚
3. ç¼–è¾‘å™¨åŒºæ”¯æŒ Markdown ç¼–å†™ï¼›ä¿å­˜åè‡ªåŠ¨åˆ·æ–° Git çŠ¶æ€ã€‚
4. å…ƒæ•°æ®é¢æ¿ç»´æŠ¤ `metadata.js`ï¼Œä¿å­˜æ—¶ä¼šå†™å…¥/æ›´æ–°å¯¹åº”æ¡ç›®ã€‚
5. â€œæäº¤å¹¶éƒ¨ç½²â€ä¼šï¼š
	- æ ¹æ® `git status` è‡ªåŠ¨ç”Ÿæˆæäº¤ä¿¡æ¯ï¼ˆæ–°å»º/ä¿®æ”¹/åˆ é™¤æ–‡ç« ï¼‰ã€‚
	- æ‰§è¡Œ `git add`ã€`git commit`ã€`git push`ã€‚
	- ä¾æ¬¡è¿è¡Œ `npm run build` ä¸ `npm run deploy`ã€‚
	- åœ¨ç•Œé¢è¾“å‡ºå®Œæ•´æ—¥å¿—ã€‚
6. åˆ é™¤æ–‡ç« æ—¶ï¼Œä¼šåŒæ­¥ä» `metadata.js` ç§»é™¤å¯¹åº”è®°å½•ã€‚

> æ‰“åŒ…äº§ç‰©è¾ƒå¤§ï¼Œå·²é€šè¿‡ `.gitignore` æ’é™¤ `article-manager/release/`ï¼Œé¿å…æ¨é€åˆ°ä»“åº“ã€‚è‹¥è¯¯æäº¤ï¼Œå¯ä½¿ç”¨ `git filter-repo` æ¸…ç†å†å²ã€‚

## æŠ€æœ¯æ ˆ

- **å‰ç«¯**ï¼šVue 3ã€Vue Routerã€Viteã€Markdown-Itã€Highlight.js
- **éƒ¨ç½²**ï¼šGitHub Actions + gh-pages
- **æ–‡ç« ç®¡ç†å™¨**ï¼šElectron 31ã€electron-viteã€electron-builderã€electron-store

## å¸¸è§é—®é¢˜

| é—®é¢˜ | æ’æŸ¥å»ºè®® |
| ---- | -------- |
| Electron å¯åŠ¨æŠ¥é”™ `Cannot find module 'electron-store'` | é‡æ–°å®‰è£…ä¾èµ–ï¼Œç¡®ä¿ `article-manager/package.json` ä¸­ç‰ˆæœ¬ä¸º `^8.1.0` å¹¶è¿è¡Œ `npm install` |
| æ‰“åŒ…ç‰ˆæ‰§è¡Œ npm/ Git å‘½ä»¤å¤±è´¥ `spawn EINVAL` | Windows ä¸‹éœ€ä½¿ç”¨æœ€æ–°ä»£ç ï¼ˆå·²æ”¹ä¸º `cmd.exe /c` æ‰§è¡Œ npmï¼‰ |
| `.exe` æ— æ³•æ¨é€åˆ° GitHub | GitHub å•æ–‡ä»¶é™åˆ¶ 100 MBï¼Œå·²åœ¨ `.gitignore` å¿½ç•¥ï¼›å¦‚å·²åŠ å…¥å†å²ï¼Œç”¨ `git filter-repo --path ... --invert-paths` æ¸…ç† |
| éƒ¨ç½²åé¡µé¢ 404 | æ£€æŸ¥ `vite.config.js` ä¸­ `base` æ˜¯å¦ä¸º `/Blog/`ï¼Œå¹¶ç¡®è®¤ `gh-pages` åˆ†æ”¯å­˜åœ¨æœ€æ–°æ„å»º |

## è´¡çŒ® & åé¦ˆ

æ¬¢è¿ Issue / PRï¼Œæˆ–ç›´æ¥è”ç³»ä»“åº“ä½œè€… whyselfã€‚ä¹Ÿå¯é€šè¿‡æ–‡ç« ç®¡ç†å™¨çš„æ—¥å¿—ã€æ§åˆ¶å°ç­‰æ–¹å¼æ”¶é›†è°ƒè¯•ä¿¡æ¯ï¼Œæäº¤åé¦ˆæ—¶é™„ä¸Šã€‚

---

Made with â¤ï¸ by WhySelf
